---

    title: "Markdown生命周期"
    date: 2017-07-09
    tags: ["maven"]

---
# lifecycle-phase
maven有三个内部生命周期：`default`，`clean`，和`site`。  
每个生命周期由多个阶段(phase)组成  
## `clean`

|Phase|	Description|
|---|---|
|pre-clean|	execute processes needed prior to the actual project cleaning|
|clean|	remove all files generated by the previous build|
|post-clean|	execute processes needed to finalize the project cleaning|

## `default`
|Phase|	Description|
|---|---|
|validate|	validate the project is correct and all necessary information is available.|
|initialize|	initialize build state, e.g. set properties or create directories.|
|generate-sources|	generate any source code for inclusion in compilation.|
|process-sources|	process the source code, for example to filter any values.|
|generate-resources|	generate resources for inclusion in the package.|
|process-resources|	copy and process the resources into the destination directory, ready for packaging.|
|compile|	compile the source code of the project.|
|process-classes|	post-process the generated files from compilation, for example to do bytecode enhancement on Java classes.|
|generate-test-sources|	generate any test source code for inclusion in compilation.|
|process-test-sources|	process the test source code, for example to filter any values.|
|generate-test-resources|	create resources for testing.|
|process-test-resources	|copy and process the resources into the test destination directory.|
|test-compile|	compile the test source code into the test destination directory|
|process-test-classes|	post-process the generated files from test compilation, for example to do bytecode enhancement on Java classes.|
|test|	run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.|
|prepare-package|	perform any operations necessary to prepare a package before the actual packaging. This often results in an unpacked, processed version of the package.|
|package|	take the compiled code and package it in its distributable format, such as a JAR.|
|pre-integration-test|	perform actions required before integration tests are executed. This may involve things such as setting up the required environment.|
|integration-test|	process and deploy the package if necessary into an environment where integration tests can be run.|
|post-integration-test|	perform actions required after integration tests have been executed. This may including cleaning up the environment.|
|verify|	run any checks to verify the package is valid and meets quality criteria.|
|install|	install the package into the local repository, for use as a dependency in other projects locally.|
|deploy|	done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.|

## `site`
Phase|	Description
---|---
pre-site|	execute processes needed prior to the actual project site generation
site|	generate the project's site documentation
post-site|	execute processes needed to finalize the site generation, and to prepare for site deployment
site-deploy|	deploy the generated site documentation to the specified web server

# phase-goal
生命周期对应的每个阶段（phase），都应有一个目标（goal），实际上起作用的就是这些目标语句（没有goal的phase没有意义）。phase相当于goal的封装，一个phase可以封装多个goal，除了maven默认的goal，你还可以绑定自定义的goal。  
每个阶段对应的目标，根据`pom.xml`文件中的`<packaging>`标签的值而略有不同。详情参考[Built-in Lifecycle Bindings](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#built-in-lifecycle-bindings)
